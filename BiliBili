name: |-
  BiliBili
desc: |-
  精简去除广告
author: |-
  z-jinke
icon: |-
  https://raw.githubusercontent.com/z-jinke/icon/refs/heads/main/png/bilibili.png
category: |-
  视频

http:

  mitm:
    - "*.bilibili.com"

  url-rewrite:
    - >-
      ^https:\/\/app\.bilibili\.com\/x\/v2\/splash\/show - reject-200
    - >-
      ^https:\/\/(app|api)\.bilibili\.com\/x\/(resource\/ip|vip\/ads) - reject-200

  script:
    - match: ^https:\/\/app\.bilibili\.com\/x\/v2\/splash\/list
      name: "响应修改"
      type: response
      require-body: true
      timeout: 60

    - match: ^https:\/\/app\.bilibili\.com\/x\/v2\/feed\/index
      name: "响应修改"
      type: response
      require-body: true
      timeout: 60

    - match: ^https:\/\/app\.bilibili\.com\/x\/resource\/show\/tab\/v2
      name: "响应修改"
      type: response
      require-body: true
      timeout: 60

    - match: ^https:\/\/app\.bilibili\.com\/x\/v2\/account\/(mine|ipad)
      name: "响应修改"
      type: response
      require-body: true
      timeout: 60

script-providers:
  "响应修改":
    url: https://github.com/z-jinke/Stash/raw/refs/heads/main/beta/BiliBili.js
    interval: 86400
